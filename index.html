<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <title>wix</title>
  <meta http-equiv='cache-control' content='no-cache'>
  <meta http-equiv='expires' content='0'>
  <meta http-equiv='pragma' content='no-cache'>
  <link rel="stylesheet" href="static/layui/css/layui.css">
  <link rel="stylesheet" type="text/css" href="static/DataTables/datatables.min.css"/>
  <script src="static/DataTables/jQuery-3.6.0/jquery-3.6.0.js"></script>
  <script type="text/javascript" src="static/DataTables/datatables.min.js"></script>
  <style>
    .pull-left{float:left!important;}
    .pull-right{float:right!important;}
    .layui-row label{
      font-weight: bold;
    }
  </style>

</head>
<body>

<table id="example" class="display" style="width:100%">
  <thead>
  <tr>
    <th>Title</th>
    <th>Author</th>
    <th>Editor</th>
    <th>Publisher</th>
    <th>Link</th>
    <th>Date</th>
    <th>Abstract</th>
  </tr>
  </thead>
</table>

<div class="layui-form" id="dialog" hidden>
  <div class="layui-row">
    <div class="layui-col-md6">
      <label class="layui-form-label">Title：</label>
      <div class="layui-form-mid layui-word-aux" id="wixTitle">1</div>
    </div>
    <div class="layui-col-md6">
      <label class="layui-form-label">Link：</label>
      <div class="layui-form-mid layui-word-aux" id="wixLink">1</div>
    </div>
  </div>
  <div class="layui-row">
    <div class="layui-col-md6">
      <label class="layui-form-label">Author：</label>
      <div class="layui-form-mid layui-word-aux" id="wixAuthor">1</div>
    </div>
    <div class="layui-col-md6">
      <label class="layui-form-label">Editor：</label>
      <div class="layui-form-mid layui-word-aux" id="wixTypesetting">1</div>
    </div>
  </div>
  <div class="layui-row">
    <div class="layui-col-md6">
      <label class="layui-form-label">Publisher：</label>
      <div class="layui-form-mid layui-word-aux" id="wixPublishing">1</div>
    </div>
    <div class="layui-col-md6">
      <label class="layui-form-label">Date：</label>
      <div class="layui-form-mid layui-word-aux" id="wixReleaseDate">1</div>
    </div>
  </div>
  <div class="layui-row">
    <div class="layui-col-md12">
      <label class="layui-form-label">Abstract：</label>
      <div class="layui-form-mid layui-word-aux" id="wixSummary">1</div>
    </div>
  </div>
  <div class="layui-row">
    <div class="layui-col-md12">
      <label class="layui-form-label">Content：</label>
      <div class="layui-form-mid layui-word-aux" id="wixContent">1</div>
    </div>
  </div>
</div>


<!-- 引入 layui.js 的 <script> 标签最好放置在 html 末尾 -->
<script src="static/layui/layui.js"></script>
<script>
  $(document).ready(function () {
    var table = $('#example').DataTable({
      bLengthChange:false,
      iDisplayLength:15,
      "dom": '<"pull-left"f><"pull-right"l>tip',
      "ajax": {
        "url": "data/wix-data.json?_=" +new Date().getTime(),
        "dataSrc": ""
      },
      "columns": [
        {"data": "wixTitle"},
        {"data": "wixAuthor"},
        {"data": "wixTypesetting"},
        {"data": "wixPublishing"},
        {"data": "wixLink"},
        {"data": "wixReleaseDate"},
        {"data": "wixSummary"}
      ],
    });

    //对行双击添加监听事件
    $('#example tbody').on('dblclick', 'tr', function () {
      var row = table.row( this ).data();

      $('#wixTitle').html(row.wixTitle ? row.wixTitle: '');
      $('#wixAuthor').html(row.wixAuthor ? row.wixAuthor: '');
      $('#wixTypesetting').html(row.wixTypesetting ? row.wixTypesetting: '');
      $('#wixPublishing').html(row.wixPublishing ? row.wixPublishing: '');
      $('#wixLink').html(row.wixLink ? row.wixLink: '');
      $('#wixReleaseDate').html(row.wixReleaseDate ? row.wixReleaseDate: '');
      $('#wixSummary').html(row.wixSummary ? row.wixSummary: '');
      $('#wixContent').html(row.wixContent ? row.wixContent: '');

      layer.open({type: 1, title: "Data details", shadeClose: true, skin: 'layui-layer-rim', area: ['800px', '600px'], content: $('#dialog').html()});
    });
  });

</script>
</body>
</html>
